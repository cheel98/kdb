## 合约生命周期管理 v3

1. 第一版和第二版生命周期代码整理，第三版与第二班已经不兼容升级，第一版已经没有保留的必要；1

2. 总体设计：1

   1. 合约状态调整，部署中，升级中，已冻结（永久冻结），可执行。

3. 测试用例：0.5

4. 部署不使用单独的规则控制，与升级保持一致都使用 盟主审核，共识投票，不投票三种规则。升级不受合约是否冻结的限制。 1

5. 合约生命周期规则配置和更改；1

6. 合约冻结/解冻；2.5

   1. 流程设计，逻辑较复杂，理清逻辑以防遗漏 0.5
   2. 开发 2

7. 文档整理：1

8. 测试+修复

   1. 功能4：1+1 天

      合约在三种规则下的四种状态的部署和升级

      三种规则：

      ​	盟主审核：

      - 其他身份能否投票
      - 盟主一票同意和反对后的合约状态是否正确
      - 升级后的合约状态是否正确

      ​    共识投票，不投票

      四种状态： 部署中，升级中，冻结，可执行

   2. 功能5：

      在功能4和6的调整不同规则时就能测试

   3. 功能6: 1.5+1.5天

      不同身份在合约不同规则，不同状态下的冻结和解冻



1+1 +0.5+1+1+2.5+1+2+3 = 13 ≈ 15（天）

